document.addEventListener("DOMContentLoaded",function(){const t=document.getElementsByTagName("label"),e=document.querySelector('input[name="star-name"]'),a=document.querySelectorAll('input[name="breast"]'),s=document.querySelectorAll('input[name="hair"]'),n=document.querySelectorAll('input[name="ethnicity"]'),r=document.querySelector("#countries > select"),d=document.querySelector("#websites > select"),i=document.querySelectorAll('input[name="sort"]'),o=document.getElementById("loader");$("select.pretty").prettyDropdown({height:30,classic:!0,hoverIntent:1e3}),fetch("json/star.search.php").then(function(t){return t.json()}).then(function(t){const e=document.getElementById("stars"),a=document.createElement("div");a.classList.add("row");const s=t.stars;for(let t=0;t<s.length;t++){let e=s[t].starID,r=s[t].starName,d=s[t].breast,i=s[t].hair,o=s[t].ethnicity,l=s[t].country,c=s[t].age,u=s[t].videoCount,h="images/stars/"+s[t].image,m=s[t].website,b=document.createElement("a");b.classList.add("star","card"),b.style.display="inline-block",b.setAttribute("href","star.php?id="+e),b.setAttribute("data-star-id",e),b.setAttribute("data-badge",u),b.setAttribute("data-age",c),b.setAttribute("data-breast",d),b.setAttribute("data-country",d),b.setAttribute("data-hair",i),b.setAttribute("data-ethnicity",o),b.setAttribute("data-country",l),b.setAttribute("data-website-name",'["'+m+'"]');let g=document.createElement("img");g.classList.add("lazy","card-img-top"),g.style.width="200px",g.style.height="275px",g.setAttribute("data-src",h);let p=document.createElement("span");if(p.classList.add("name","card-title"),p.textContent=r,b.appendChild(g),b.appendChild(p),c){let t=document.createElement("span");t.classList.add("ribbon"),t.textContent=(n=c,Math.floor(n/365)),b.appendChild(t)}a.appendChild(b)}var n;e.appendChild(a)}).then(function(){o.remove(),window.stars=document.getElementsByClassName("star"),window.starLength=stars.length,window.$stars=$(stars)}).then(function(){for(let e=0;e<t.length;e++)t[e].addEventListener("click",function(){$(t[e].previousSibling).click()});e.addEventListener("keyup",function(){let t=e.value.toLowerCase();$stars.removeClass("hidden-name"),$stars.not(function(){return $(this).find(".name").text().toLowerCase().indexOf(t)>-1}).addClass("hidden-name")});for(let t=0,e=a.length;t<e;t++)a[t].addEventListener("click",function(){$(a).parent().removeClass("selected"),a[t].parentElement.classList.add("selected"),$stars.removeClass("hidden-breast");let e=$("#breasts label").eq(t).text();for(let t=0;t<starLength;t++){let a=stars[t].getAttribute("data-breast");"NULL"!==e&&a!==e?stars[t].classList.add("hidden-breast"):"NULL"===e&&""!==a&&stars[t].classList.add("hidden-breast")}}),a[t].oncontextmenu=function(){$(a).parent().removeClass("selected"),$stars.removeClass("hidden-breast");for(let t=0;t<e;t++)a[t].checked=!1;return!1};for(let t=0,e=s.length;t<e;t++)s[t].addEventListener("change",function(){$(s).parent().removeClass("selected"),s[t].parentElement.classList.add("selected"),$stars.removeClass("hidden-hair");let e=$("#hair label").eq(t).text();for(let t=0;t<starLength;t++){let a=stars[t].getAttribute("data-hair");"NULL"!==e&&a!==e?stars[t].classList.add("hidden-hair"):"NULL"===e&&""!==a&&stars[t].classList.add("hidden-hair")}}),s[t].oncontextmenu=function(){$(s).parent().removeClass("selected"),$stars.removeClass("hidden-hair");for(let t=0;t<e;t++)s[t].checked=!1;return!1};for(let t=0,e=n.length;t<e;t++)n[t].addEventListener("change",function(){$(n).parent().removeClass("selected"),n[t].parentElement.classList.add("selected"),$stars.removeClass("hidden-ethnicity");let e=$("#ethnicity label").eq(t).text();for(let t=0;t<starLength;t++){let a=stars[t].getAttribute("data-ethnicity");"NULL"!==e&&a!==e?stars[t].classList.add("hidden-ethnicity"):"NULL"===e&&""!==a&&stars[t].classList.add("hidden-ethnicity")}}),n[t].oncontextmenu=function(){$(n).parent().removeClass("selected"),$stars.removeClass("hidden-ethnicity");for(let t=0;t<e;t++)n[t].checked=!1;return!1};if(r){const t=document.querySelectorAll("#countries > .prettydropdown");$(t).on("change",function(){$stars.removeClass("hidden-country");let t=r.options[r.selectedIndex].textContent;for(let e=0;e<starLength;e++)stars[e].getAttribute("data-country")!==t&&"All"!==t&&stars[e].classList.add("hidden-country")})}if(d){const t=document.querySelectorAll("#websites > .prettydropdown");$(t).on("change",function(){$stars.removeClass("hidden-website");let t=d.options[d.selectedIndex].textContent;for(let e=0;e<starLength;e++)stars[e].getAttribute("data-website-name").slice(2,-2).split(",").indexOf(t)<0&&"All"!==t&&stars[e].classList.add("hidden-website")})}for(let t=0;t<i.length;t++)i[t].addEventListener("change",function(){$(i).parent().removeClass("selected"),i[t].parentElement.classList.add("selected");let e=this.id,a=function(t,e){return t.querySelector("span").textContent.toLowerCase().localeCompare(e.querySelector("span").textContent.toLowerCase(),"en")},s=function(t,e){return e.querySelector("span").textContent.toLowerCase().localeCompare(t.querySelector("span").textContent.toLowerCase(),"en")},n=function(t,e){return t.getAttribute("data-star-id")-e.getAttribute("data-star-id")},r=function(t,e){return e.getAttribute("data-star-id")-t.getAttribute("data-star-id")},d=function(t,e){return t.getAttribute("data-age")-e.getAttribute("data-age")},o=function(t,e){return e.getAttribute("data-age")-t.getAttribute("data-age")},l=function(t,e){return t.getAttribute("data-badge")-e.getAttribute("data-badge")},c=function(t,e){return e.getAttribute("data-badge")-t.getAttribute("data-badge")};switch(e){case"alphabetically":$stars.sort(a);break;case"alphabetically_desc":$stars.sort(s);break;case"added":$stars.sort(n);break;case"added_desc":$stars.sort(r);break;case"actor-age":$stars.sort(d);break;case"actor-age_desc":$stars.sort(o);break;case"videocount":$stars.sort(l);break;case"videocount_desc":$stars.sort(c);break;default:console.log("No sort method for: "+e)}for(let t=0;t<starLength;t++)$stars[t].parentNode.appendChild($stars[t])})}).then(function(){new LazyLoad({elements_selector:".lazy"})})});